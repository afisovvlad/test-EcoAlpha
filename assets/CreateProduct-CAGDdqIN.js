import{r as l,j as s,f as h}from"./index-DvYqDRAn.js";import{u as x,c as n}from"./useAppDispatch-C6zthu0l.js";const _="_CreateProduct_8tmdn_1",N="_form_8tmdn_17",j="_input_8tmdn_29",y="_err_8tmdn_47",f="_errorMessage_8tmdn_65",C="_submitButton_8tmdn_77",e={CreateProduct:_,form:N,input:j,err:y,errorMessage:f,submitButton:C},v=a=>{const r={};return a.title||(r.title="Введите название"),a.imageUrl||(r.imageUrl="Введите ссылку на картинку"),a.price?isNaN(Number(a.price))&&(r.price="Стоимость должна быть числом"):r.price="Введите стоимость",a.description||(r.description="Введите описание"),a.category||(r.category="Добавьте категорию"),r},M=l.memo(()=>{const a=x(),[r,p]=l.useState({title:"",imageUrl:"",price:"",description:"",category:""}),[t,u]=l.useState({}),i=o=>{const{name:c,value:d}=o.target;p(g=>({...g,[c]:d}))},m=o=>{o.preventDefault();const c=v(r);Object.keys(c).length===0?(console.log("Форма отправлена:",r),a(h(r)),p({title:"",imageUrl:"",price:"",description:"",category:""}),u({})):u(c)};return s.jsx("div",{className:e.CreateProduct,children:s.jsxs("form",{className:e.form,children:[s.jsx("input",{className:n(e.input,{[e.err]:!!t.title},[]),type:"text",name:"title",placeholder:"Введите название",value:r.title,onChange:i,required:!0}),t.title&&s.jsx("span",{className:e.errorMessage,children:t.title}),s.jsx("input",{className:n(e.input,{[e.err]:!!t.imageUrl},[]),type:"text",name:"imageUrl",placeholder:"Введите ссылку на картинку",value:r.imageUrl,onChange:i,required:!0}),t.imageUrl&&s.jsx("span",{className:e.errorMessage,children:t.imageUrl}),s.jsx("input",{className:n(e.input,{[e.err]:!!t.price},[]),type:"text",name:"price",placeholder:"Введите стоимость",value:r.price,onChange:i,required:!0}),t.price&&s.jsx("span",{className:e.errorMessage,children:t.price}),s.jsx("input",{className:n(e.input,{[e.err]:!!t.description},[]),type:"text",name:"description",placeholder:"Введите описание",value:r.description,onChange:i,required:!0}),t.description&&s.jsx("span",{className:e.errorMessage,children:t.description}),s.jsx("input",{className:n(e.input,{[e.err]:!!t.category},[]),type:"text",name:"category",placeholder:"Добавьте категорию",value:r.category,onChange:i,required:!0}),t.category&&s.jsx("span",{className:e.errorMessage,children:t.category}),s.jsx("button",{type:"button",className:e.submitButton,onClick:m,children:"Создать продукт"})]})})});export{M as default};
